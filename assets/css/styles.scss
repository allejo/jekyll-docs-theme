---
---

@import 'abstracts/highlight-dark';
@import 'abstracts/highlight-light';

{% include jekyll-docs-theme/variables.html %}

$site-ui-mode: {{ site_ui_mode }};

$colorVariables: (
    background-color,
    border-color,
    brand-color,
    codeblock-background-color,
    codeblock-font-color,
    font-color,
    inline-code-color,
    masthead-font-color,
    masthead-gradient-color-1,
    masthead-gradient-color-2,
    sidebar-font-color,
);

@mixin split-rgb-to-css-variables($variable-name, $color) {
    --jekyll-#{$variable-name}-r: #{red($color)};
    --jekyll-#{$variable-name}-g: #{green($color)};
    --jekyll-#{$variable-name}-b: #{blue($color)};
}


@mixin build-theme-colors($colors) {
    @for $i from 1 through length($colorVariables) {
        @include split-rgb-to-css-variables(nth($colorVariables, $i), nth($colors, $i));
    }
}

@mixin theme-dark {
    @include build-theme-colors((
        {{ site_ui_background_color_dark }},
        {{ site_ui_border_color_dark }},
        {{ site_ui_brand_dark }},
        {{ site_ui_codeblock_background_color_dark }},
        {{ site_ui_codeblock_font_color_dark }},
        {{ site_ui_font_color_dark }},
        {{ site_ui_inline_code_color_dark }},
        {{ site_ui_masthead_font_color_dark }},
        {{ site_ui_masthead_gradient_dark_color1 }},
        {{ site_ui_masthead_gradient_dark_color2 }},
        {{ site_ui_sidebar_font_color_dark }},
    ));
}

@mixin theme-light {
    @include build-theme-colors((
        {{ site_ui_background_color_light }},
        {{ site_ui_border_color_light }},
        {{ site_ui_brand_light }},
        {{ site_ui_codeblock_background_color_light }},
        {{ site_ui_codeblock_font_color_light }},
        {{ site_ui_font_color_light }},
        {{ site_ui_inline_code_color_light }},
        {{ site_ui_masthead_font_color_light }},
        {{ site_ui_masthead_gradient_light_color1 }},
        {{ site_ui_masthead_gradient_light_color2 }},
        {{ site_ui_sidebar_font_color_light }},
    ));
}

:root {
    --jekyll-border-width: 2px;
}

body.theme-dark { @include theme-dark; }
body.theme-light { @include theme-light; }
body.theme-auto {
    @media (prefers-color-scheme: dark) { @include theme-dark; }
    @media (prefers-color-scheme: light) { @include theme-light; }
}

body {
    @extend body, .theme-auto;
    @each $variable in $colorVariables {
        --jekyll-#{$variable}: rgb(
            var(--jekyll-#{$variable}-r),
            var(--jekyll-#{$variable}-g),
            var(--jekyll-#{$variable}-b)
        );
    }
}

// Base Styles
@import 'base/anchor';
@import 'base/body';
@import 'base/blockquote';
@import 'base/horizontal-rule';
@import 'base/scope-markdown';

// Components
@import 'components/alert';
@import 'components/footer';
@import 'components/header';
@import 'components/highlight';
@import 'components/masthead';
@import 'components/mobile-toc';
@import 'components/sidebar';

// Utilities
@import 'utilities/js';
